<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .tiles {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            gap: 10px;
        }
        

        .tiles div {
            width: 100px;
            height: 100px;
            border: 2px solid #000;
        }
    </style>
</head>

<body>
    <div class="tiles">

    </div>

    <script>
        let tilesEl = document.querySelector(".tiles")
        let boxEls

        let level = 9

        function createBoxes(n) {
            tilesEl.innerHTML = ""
            for (let i = 0; i < n; i++) {
                tilesEl.innerHTML += `<div></div>`
            }

            boxEls = document.querySelectorAll(".tiles > div")

            for (let i = 0; i < boxEls.length; i++) {
                boxEls[i].addEventListener("click", handleClick)
            }

        }


        function handleClick() {  //når ferdig med level. alle fjernes og mister lytter før alle legges tilbake og får lytter når createboz kalles på
            console.log(this)
            for (let i = 0; i < boxEls.length; i++) {
                boxEls[i].removeEventListener("click", handleClick)
            }
            
            level += 3
            createBoxes(level)
        }


        createBoxes(9)


    </script>
</body>

</html>